# ============== Supabase (local: run `supabase status` after `supabase start`) ==============
NEXT_PUBLIC_SUPABASE_URL=http://127.0.0.1:54406
NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY=your_supabase_publishable_key
# Optional: Supabase UI Library blocks use this name; can alias to PUBLISHABLE_KEY above
# NEXT_PUBLIC_SUPABASE_PUBLISHABLE_OR_ANON_KEY=your_supabase_publishable_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Database (direct Postgres – for migrations, scripts). Local port may differ if 54322 is in Windows excluded range (see supabase/config.toml).
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54403/postgres

# Storage S3 (optional – S3-compatible access to Supabase Storage)
SUPABASE_STORAGE_S3_URL=http://127.0.0.1:54406/storage/v1/s3
SUPABASE_STORAGE_ACCESS_KEY=your_storage_access_key
SUPABASE_STORAGE_SECRET_KEY=your_storage_secret_key
SUPABASE_STORAGE_REGION=local

# ============== Stripe (https://dashboard.stripe.com/apikeys and /webhooks) ==============
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# From Stripe Dashboard → Developers → Webhooks → Add endpoint → URL: https://your-domain.com/api/webhooks
# Events: product.created, product.updated, price.created, price.updated, checkout.session.completed, customer.subscription.*
# Local: run `stripe listen --forward-to localhost:3000/api/webhooks` and use the printed signing secret
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_signing_secret

# ============== Spotify (Client Credentials + OAuth) ==============
# From https://developer.spotify.com/dashboard — same app used for:
# - Server-side public metadata (libs/spotify.ts): Client Credentials flow.
# - Login: Supabase Spotify OAuth. In Spotify Dashboard → App → Redirect URIs add:
#   Local: http://127.0.0.1:54406/auth/v1/callback (match api port in supabase/config.toml)
#   Hosted: https://<project-ref>.supabase.co/auth/v1/callback (from Supabase Dashboard → Auth → Providers → Spotify)
# Supabase CLI loads .env at project root for `supabase start`; if you use .env.local only, run `pnpm run supabase:start`.
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret

# ============== Navidrome (Subsonic API – primary music catalog & streaming) ==============
# One shared Navidrome user for the app; no secrets in browser.
NAVIDROME_URL=http://localhost:4533
NAVIDROME_USER=your_navidrome_username
NAVIDROME_PASSWORD=your_navidrome_password

# ============== Lidarr (request music – add artist/album, trigger search) ==============
LIDARR_URL=http://localhost:8686
LIDARR_API_KEY=your_lidarr_api_key
# Optional when adding artists via API:
# LIDARR_ROOT_FOLDER_PATH=/music
# LIDARR_QUALITY_PROFILE_ID=1

# ============== OpenAI (AI playlists, natural-language search, recommendation labels) ==============
# Server-only. From https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# ============== App ==============
NEXT_PUBLIC_SITE_URL=http://localhost:3000

# RBAC / subscription bypass (optional)
# In dev: set to true so any logged-in user can play without subscription
NEXT_PUBLIC_DEV_BYPASS_SUBSCRIPTION=false
# Server-only: PIN for beta access (friends can enter to bypass subscription)
BETA_ACCESS_PIN=
